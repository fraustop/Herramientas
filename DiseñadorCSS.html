<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Muestras CSS Avanzado v7.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&family=Playfair+Display:wght@700&family=Fira+Code&family=Montserrat:wght@800&family=Lora&display=swap" rel="stylesheet">
    <style>
        /* --- MOTOR DE TEXTURAS DINÁMICO --- */
        #texture-overlay {
            mask-image: linear-gradient(to bottom, black, black); /* Para asegurar recortes limpios */
        }

        /* Definiciones base de texturas (Clases maestras) */
        .tex-glass { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.2); }
        
        /* Las texturas se inyectan dinámicamente vía JS para manejar las 100 variantes */
        .sample-container { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); min-height: 400px; }
        #code-display { font-family: 'Fira Code', monospace; font-size: 0.85rem; }
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        
        .control-section { border-bottom: 1px solid #f1f5f9; padding-bottom: 1.25rem; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen text-slate-800 p-4 md:p-6 font-['Inter']">

    <div class="max-w-7xl mx-auto">
        <header class="mb-8 text-center">
            <h1 class="text-4xl font-black text-slate-900 tracking-tight">Estilo Pro v7.0</h1>
            <p class="text-slate-500 mt-2 text-lg">Sistema de 100 texturas con categorías y estilos personalizados.</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <!-- Panel de Controles -->
            <div class="lg:col-span-4 space-y-6 bg-white p-6 rounded-[2rem] shadow-2xl border border-slate-200 h-fit max-h-[85vh] overflow-y-auto custom-scrollbar">
                
                <!-- Fondo -->
                <section class="control-section">
                    <div class="flex items-center justify-between mb-3">
                        <label class="text-xs font-bold text-indigo-600 uppercase tracking-widest">Fondo Gradiente</label>
                        <button id="add-color" class="text-[10px] bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full font-bold hover:bg-indigo-100 transition-all">+ Color</button>
                    </div>
                    <div id="colors-container" class="space-y-2 mb-4"></div>
                    <select id="gradient-select" class="w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500 transition-all">
                        <option value="none">Sólido</option>
                        <option value="linear-v">Vertical</option>
                        <option value="linear-h">Horizontal</option>
                        <option value="diagonal">Diagonal (45°)</option>
                        <option value="radial">Radial</option>
                    </select>
                </section>

                <!-- TEXTURAS DUALES (CAT + VAR) -->
                <section class="control-section">
                    <label class="block text-xs font-bold text-indigo-600 uppercase tracking-widest mb-3">Selector de Textura (100 Opciones)</label>
                    <div class="space-y-3">
                        <div>
                            <span class="text-[10px] text-slate-400 font-bold uppercase block mb-1">Categoría</span>
                            <select id="texture-cat-select" class="w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none">
                                <option value="none">Ninguna / Lisa</option>
                                <option value="noise">Ruido y Grano</option>
                                <option value="geo">Geométricas</option>
                                <option value="lines">Líneas y Rayas</option>
                                <option value="tech">Técnicas y Futuristas</option>
                                <option value="organic">Orgánicas y Naturales</option>
                                <option value="artistic">Artísticas y Patrones</option>
                            </select>
                        </div>
                        <div>
                            <span class="text-[10px] text-slate-400 font-bold uppercase block mb-1">Variante</span>
                            <select id="texture-var-select" class="w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none disabled:opacity-50" disabled>
                                <option value="">Seleccione categoría...</option>
                            </select>
                        </div>
                        <div class="flex items-center justify-between px-1">
                            <span class="text-[10px] text-slate-400 font-bold uppercase">Opacidad Textura</span>
                            <input type="range" id="texture-opacity" min="0" max="1" step="0.05" value="0.3" class="w-24 accent-indigo-600">
                        </div>
                    </div>
                </section>

                <!-- Texto -->
                <section class="control-section">
                    <label class="block text-xs font-bold text-indigo-600 uppercase tracking-widest mb-3">Tipografía y Estilo</label>
                    <div class="grid grid-cols-2 gap-3 mb-3">
                        <div class="p-3 bg-slate-50 rounded-xl border border-slate-100">
                            <span class="text-[9px] block text-slate-400 font-bold mb-1 uppercase">Color Texto</span>
                            <div class="flex items-center gap-2">
                                <input type="color" id="text-color-input" value="#ffffff" class="h-6 w-6 cursor-pointer bg-transparent border-none">
                                <input type="checkbox" id="auto-contrast-check" checked class="accent-indigo-600 h-4 w-4">
                            </div>
                        </div>
                        <div class="p-3 bg-slate-50 rounded-xl border border-slate-100">
                            <span class="text-[9px] block text-slate-400 font-bold mb-1 uppercase">Contorno</span>
                            <div class="flex items-center gap-2">
                                <input type="color" id="text-stroke-color" value="#000000" class="h-6 w-6 cursor-pointer bg-transparent border-none">
                                <input type="range" id="text-stroke-width" min="0" max="5" step="0.5" value="0" class="flex-1 accent-indigo-600">
                            </div>
                        </div>
                    </div>
                    <select id="font-select" class="w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none">
                        <option value="'Inter', sans-serif">Inter (Sans)</option>
                        <option value="'Montserrat', sans-serif">Montserrat</option>
                        <option value="'Playfair Display', serif">Playfair Display</option>
                        <option value="'Fira Code', monospace">Fira Code</option>
                    </select>
                </section>

                <!-- Bordes -->
                <section class="control-section">
                    <label class="block text-xs font-bold text-indigo-600 uppercase tracking-widest mb-3">Bordes de Caja</label>
                    <div class="grid grid-cols-2 gap-3">
                        <select id="border-style-select" class="px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none">
                            <option value="solid">Sólido</option>
                            <option value="dashed">Guiones</option>
                            <option value="double">Doble</option>
                            <option value="none">Sin borde</option>
                        </select>
                        <input type="color" id="border-color-input" value="#ffffff" class="w-full h-10 p-1 bg-slate-50 border border-slate-200 rounded-xl cursor-pointer">
                    </div>
                </section>

                <button id="copy-btn" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-slate-800 transition-all shadow-xl flex items-center justify-center gap-3 active:scale-95">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect width="14" height="14" x="8" y="8" rx="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                    Copiar Código CSS
                </button>
            </div>

            <!-- Previsualización -->
            <div class="lg:col-span-8 space-y-6">
                <div class="bg-white rounded-[3rem] shadow-2xl border border-slate-200 overflow-hidden relative">
                    <div class="absolute inset-0" style="background-image: radial-gradient(#cbd5e1 1.5px, transparent 1.5px); background-size: 24px 24px; opacity: 0.25;"></div>
                    <div class="relative p-8 md:p-16 flex items-center justify-center min-h-[550px]">
                        <div id="sample-box" class="sample-container w-full max-w-2xl flex flex-col items-center justify-center text-center p-16 relative overflow-hidden border-4">
                            <!-- Overlay de textura -->
                            <div id="texture-overlay" class="absolute inset-0 pointer-events-none z-0"></div>
                            
                            <div class="relative z-10">
                                <h3 id="sample-text" class="text-7xl font-black leading-tight uppercase tracking-tighter">Estilo</h3>
                                <p id="sample-subtext" class="mt-6 text-sm font-black tracking-[0.3em] uppercase opacity-70">Custom Graphics Engine</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-900 rounded-[2rem] p-8 text-indigo-300 shadow-2xl relative">
                    <div class="absolute top-6 right-8 text-[10px] font-bold text-slate-500 uppercase tracking-widest border border-slate-800 px-2 py-1 rounded">CSS v7.0 ENGINE</div>
                    <pre id="code-display" class="overflow-x-auto whitespace-pre-wrap leading-relaxed custom-scrollbar"></pre>
                </div>
            </div>

        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-10 py-5 rounded-[2rem] shadow-2xl opacity-0 transition-all pointer-events-none flex items-center gap-4 border border-slate-700">
        <div class="bg-green-500 rounded-full p-1.5"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4"><polyline points="20 6 9 17 4 12"/></svg></div>
        <span class="font-bold">Copiado al portapapeles</span>
    </div>

    <script>
        // --- BASE DE DATOS DE TEXTURAS (100 VARIANTES) ---
        const textureDatabase = {
            noise: {
                name: "Ruido y Grano",
                variants: {
                    "sand-light": { name: "Arena Fina", css: "url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E\")" },
                    "sand-heavy": { name: "Arena Gruesa", css: "url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='5'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E\")" },
                    "tv-static": { name: "Estática de TV", css: "url(\"data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.99'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)'/%3E%3C/svg%3E\")" },
                    "smoke": { name: "Humo / Nubes", css: "url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.01' numOctaves='2'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E\")" },
                    "paper": { name: "Papel Fibra", css: "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='p'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.04' numOctaves='5'/%3E%3CfeDiffuseLighting surfaceScale='2'%3E%3CfeDistantLight azimuth='45' elevation='60'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23p)'/%3E%3C/svg%3E\")" }
                }
            },
            geo: {
                name: "Geométricas",
                variants: {} // Se llenan dinámicamente abajo
            },
            lines: {
                name: "Líneas y Rayas",
                variants: {}
            },
            tech: {
                name: "Técnicas",
                variants: {}
            },
            organic: {
                name: "Orgánicas",
                variants: {}
            },
            artistic: {
                name: "Artísticas",
                variants: {}
            }
        };

        // Generar variantes geométricas (Dots, Squares, Hex...)
        for(let i=1; i<=15; i++) {
            textureDatabase.geo.variants[`dots-${i}`] = { name: `Puntos Nivel ${i}`, css: `radial-gradient(rgba(0,0,0,0.5) 1px, transparent 1px)`, size: `${i*4}px ${i*4}px` };
            textureDatabase.geo.variants[`squares-${i}`] = { name: `Cuadrícula ${i}`, css: `linear-gradient(rgba(0,0,0,0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,0.2) 1px, transparent 1px)`, size: `${i*10}px ${i*10}px` };
        }
        
        // Generar variantes de líneas
        for(let i=1; i<=10; i++) {
            textureDatabase.lines.variants[`lines-h-${i}`] = { name: `Líneas Horizontales ${i}`, css: `repeating-linear-gradient(0deg, transparent, transparent ${i*2}px, rgba(0,0,0,0.1) ${i*2}px, rgba(0,0,0,0.1) ${i*2+1}px)` };
            textureDatabase.lines.variants[`lines-v-${i}`] = { name: `Líneas Verticales ${i}`, css: `repeating-linear-gradient(90deg, transparent, transparent ${i*2}px, rgba(0,0,0,0.1) ${i*2}px, rgba(0,0,0,0.1) ${i*2+1}px)` };
            textureDatabase.lines.variants[`stripes-${i}`] = { name: `Rayas Diagonales ${i}`, css: `repeating-linear-gradient(45deg, transparent, transparent ${i*5}px, rgba(0,0,0,0.05) ${i*5}px, rgba(0,0,0,0.05) ${i*10}px)` };
        }

        // Técnicas especiales
        textureDatabase.tech.variants = {
            "carbon": { name: "Fibra de Carbono", css: "linear-gradient(27deg, #151515 5px, transparent 5px) 0 5px, linear-gradient(207deg, #151515 5px, transparent 5px) 10px 0px, linear-gradient(27deg, #222 5px, transparent 5px) 0px 10px, linear-gradient(90deg, #1b1b1b 10px, transparent 10px)", size: "20px 20px" },
            "blueprint": { name: "Blueprint", css: "linear-gradient(rgba(255,255,255,0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.2) 1px, transparent 1px), linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)", size: "100px 100px, 100px 100px, 20px 20px, 20px 20px" },
            "circuit": { name: "Circuito", css: "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cg fill='none' stroke='%23000' stroke-width='1' stroke-opacity='0.1'%3E%3Cpath d='M0 0l80 80M0 80L80 0M40 0v80M0 40h80'/%3E%3C/g%3E%3C/svg%3E\")" },
            "honeycomb": { name: "Panal", css: "radial-gradient(circle at center, rgba(0,0,0,0.1) 20%, transparent 20%), radial-gradient(circle at center, rgba(0,0,0,0.1) 20%, transparent 20%)", size: "30px 30px", pos: "0 0, 15px 15px" }
        };

        // Rellenar hasta llegar a las 100 variantes (ejemplos extra simbólicos)
        for(let i=1; i<=20; i++) {
            textureDatabase.organic.variants[`wave-${i}`] = { name: `Ondas Orgánicas ${i}`, css: `radial-gradient(circle at 100% 150%, transparent 24%, rgba(0,0,0,0.05) 25%, rgba(0,0,0,0.05) 28%, transparent 29%)`, size: `${i*10}px ${i*5}px` };
            textureDatabase.artistic.variants[`star-${i}`] = { name: `Estrellas Patrón ${i}`, css: `url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath fill-opacity='0.1' d='M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z'/%3E%3C/svg%3E")`, size: `${i*10}px ${i*10}px` };
        }

        // --- LÓGICA DE APLICACIÓN ---
        const colorPalette = ['#6366f1', '#a855f7', '#ec4899', '#f97316', '#eab308'];
        let colors = [colorPalette[0], colorPalette[1]];

        const els = {
            colors: document.getElementById('colors-container'),
            add: document.getElementById('add-color'),
            grad: document.getElementById('gradient-select'),
            cat: document.getElementById('texture-cat-select'),
            var: document.getElementById('texture-var-select'),
            opacity: document.getElementById('texture-opacity'),
            textCol: document.getElementById('text-color-input'),
            autoContrast: document.getElementById('auto-contrast-check'),
            strokeCol: document.getElementById('text-stroke-color'),
            strokeWidth: document.getElementById('text-stroke-width'),
            font: document.getElementById('font-select'),
            borderStyle: document.getElementById('border-style-select'),
            borderColor: document.getElementById('border-color-input'),
            sampleBox: document.getElementById('sample-box'),
            sampleText: document.getElementById('sample-text'),
            sampleSub: document.getElementById('sample-subtext'),
            overlay: document.getElementById('texture-overlay'),
            code: document.getElementById('code-display'),
            toast: document.getElementById('toast')
        };

        function populateVariants() {
            const cat = els.cat.value;
            els.var.innerHTML = '';
            
            if (cat === 'none') {
                els.var.disabled = true;
                els.var.innerHTML = '<option value="">Sin variantes</option>';
            } else {
                els.var.disabled = false;
                const variants = textureDatabase[cat].variants;
                Object.keys(variants).forEach(key => {
                    const opt = document.createElement('option');
                    opt.value = key;
                    opt.innerText = variants[key].name;
                    els.var.appendChild(opt);
                });
            }
            update();
        }

        function renderColors() {
            els.colors.innerHTML = '';
            colors.forEach((c, i) => {
                const div = document.createElement('div');
                div.className = 'flex items-center gap-2 p-2 bg-slate-50 rounded-xl border border-slate-100 transition-all hover:bg-white hover:shadow-sm';
                div.innerHTML = `
                    <input type="color" value="${c}" data-i="${i}" class="c-pk h-6 w-6 cursor-pointer bg-transparent border-none">
                    <input type="text" value="${c.toUpperCase()}" data-i="${i}" class="c-hx flex-1 bg-transparent text-[10px] font-mono outline-none uppercase font-bold text-slate-500">
                    ${i > 1 ? `<button data-i="${i}" class="rem-c text-slate-300 hover:text-red-500 font-bold px-1">&times;</button>` : '<div class="w-3"></div>'}
                `;
                els.colors.appendChild(div);
            });
            document.querySelectorAll('.c-pk').forEach(p => p.oninput = (e) => {
                colors[e.target.dataset.i] = e.target.value;
                e.target.nextElementSibling.value = e.target.value.toUpperCase();
                update();
            });
            document.querySelectorAll('.c-hx').forEach(h => h.oninput = (e) => {
                if(/^#[0-9A-F]{6}$/i.test(e.target.value)) {
                    colors[e.target.dataset.i] = e.target.value;
                    e.target.previousElementSibling.value = e.target.value;
                    update();
                }
            });
            document.querySelectorAll('.rem-c').forEach(b => b.onclick = () => { colors.splice(b.dataset.i, 1); renderColors(); update(); });
            els.add.style.display = colors.length >= 5 ? 'none' : 'block';
        }

        function update() {
            let cssLines = [];
            const gType = els.grad.value;
            const cat = els.cat.value;
            const variantKey = els.var.value;
            const opacity = els.opacity.value;
            let bg = colors[0];

            // Fondo
            if (gType !== 'none' && colors.length > 1) {
                const s = colors.join(', ');
                if(gType==='linear-v') bg = `linear-gradient(to bottom, ${s})`;
                else if(gType==='linear-h') bg = `linear-gradient(to right, ${s})`;
                else if(gType==='diagonal') bg = `linear-gradient(45deg, ${s})`;
                else if(gType==='radial') bg = `radial-gradient(circle, ${s})`;
            }
            els.sampleBox.style.background = bg;
            cssLines.push(`background: ${bg};`);

            // Textura
            els.overlay.style.backgroundImage = '';
            els.overlay.style.backgroundSize = '';
            els.overlay.style.backgroundPosition = '';
            els.overlay.style.opacity = opacity;

            if (cat !== 'none' && variantKey) {
                const v = textureDatabase[cat].variants[variantKey];
                els.overlay.style.backgroundImage = v.css;
                if(v.size) els.overlay.style.backgroundSize = v.size;
                if(v.pos) els.overlay.style.backgroundPosition = v.pos;
                cssLines.push(`/* Textura: ${v.name} */`);
                cssLines.push(`background-image: ${v.css};`);
                if(v.size) cssLines.push(`background-size: ${v.size};`);
            }

            // Texto
            let tc = els.textCol.value;
            if(els.autoContrast.checked) {
                const b = getBrightness(colors[0]);
                tc = b > 160 ? '#0f172a' : '#ffffff';
                els.textCol.value = tc;
            }
            const sW = els.strokeWidth.value;
            const sC = els.strokeCol.value;
            
            els.sampleText.style.color = tc;
            els.sampleSub.style.color = tc;
            els.sampleText.style.fontFamily = els.font.value;
            els.sampleText.style.webkitTextStroke = sW > 0 ? `${sW}px ${sC}` : '0px transparent';
            
            cssLines.push(`font-family: ${els.font.value};`);
            cssLines.push(`color: ${tc};`);
            if(sW > 0) cssLines.push(`-webkit-text-stroke: ${sW}px ${sC};`);

            // Bordes
            els.sampleBox.style.borderStyle = els.borderStyle.value;
            els.sampleBox.style.borderColor = els.borderColor.value;
            if(els.borderStyle.value !== 'none') cssLines.push(`border: 4px ${els.borderStyle.value} ${els.borderColor.value};`);

            // Código final
            els.code.textContent = `.preview-card {
    position: relative;
    padding: 4rem;
    border-radius: 48px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    ${cssLines.join('\n    ')}
}`;
        }

        function getBrightness(h) {
            const r = parseInt(h.slice(1,3), 16), g = parseInt(h.slice(3,5), 16), b = parseInt(h.slice(5,7), 16);
            return (r*299 + g*587 + b*114)/1000;
        }

        // Listeners
        els.add.onclick = () => { if(colors.length < 5) { colors.push(colorPalette[colors.length] || '#333333'); renderColors(); update(); } };
        els.cat.onchange = populateVariants;
        [els.grad, els.var, els.opacity, els.textCol, els.autoContrast, els.strokeCol, els.strokeWidth, els.font, els.borderStyle, els.borderColor].forEach(e => e.oninput = update);
        
        document.getElementById('copy-btn').onclick = () => {
            const t = document.createElement('textarea'); t.value = els.code.textContent;
            document.body.appendChild(t); t.select(); document.execCommand('copy'); document.body.removeChild(t);
            els.toast.style.opacity = "1"; setTimeout(() => els.toast.style.opacity = "0", 2500);
        };

        // Init
        renderColors();
        populateVariants();
        update();
    </script>
</body>
</html>
